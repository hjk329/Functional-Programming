# ê¸°ì¡´ê³¼ ë‹¬ë¼ì§„ ES6ì—ì„œì˜ ë¦¬ìŠ¤íŠ¸ ìˆœíšŒ

ES6 ì´ì „
```js
const list = [1,2,3];
for (var i = 0; i < list.length; i++){
  console.log(list[i]);
}

const str = 'abc';
for (var i = 0; i < str.length; i++){
  console.log(str[i]);
};
```

ES6
```js
for (const a of list) {
  console.log(a);
}

for (const a of str){
  console.log(a);
}
```

-> ë³´ë‹¤ ì„ ì–¸ì ì´ê³  ê°„ê²°í•˜ê²Œ ë³€ê²½ë˜ì—ˆë‹¤.


# ì´í„°ëŸ¬ë¸” / ì´í„°ë ˆì´í„° í”„ë¡œí† ì½œ
## ì´í„°ëŸ¬ë¸”: ì´í„°ë ˆì´í„°ë¥¼ ë¦¬í„´í•˜ëŠ” `[Symbol.iterator]()` ë¥¼ ê°€ì§„ ê°’
```js
const arr = [1,2,3];
arr[Symbol.iterator] // Æ’ values() { [native code] }
arr[Symbol.iterator]() // Array IteratorÂ {}

arr[Symbol.iterator] = null; // Uncaught TypeError: arr is not iterable 
```

arrì€ ì´í„°ë ˆì´í„°ë¥¼ ë¦¬í„´í•˜ëŠ” `[Symbol.iterator]()` ì„ ê°€ì¡Œê¸° ë•Œë¬¸ì— ì´í„°ëŸ¬ë¸”í•˜ë‹¤.  
ì´í„°ëŸ¬ë¸”ì€ `[Symbol.iterator]()` ë¡œ ì‹¤í–‰í–ˆì„ë•Œ ì´í„°ë ˆì´í„°ë¥¼ ë¦¬í„´í•œë‹¤.  


![image](https://github.com/hjk329/Functional-Programming/assets/84058944/96384b60-460f-4804-bf29-e2aaee8ed7bb)

<br/>

## ì´í„°ë ˆì´í„°: {value, done} ê°ì²´ë¥¼ ë¦¬í„´í•˜ëŠ” `next()` ë¥¼ ê°€ì§„ ê°’
```js
let iterator = arr[Symbol.iterator]()
iterator.next() // {value: 1, done: false}
```

![image](https://github.com/hjk329/Functional-Programming/assets/84058944/fc107f43-5e96-4e22-b32d-2a4f272ac3d1)   

ì´í„°ë ˆì´í„°ëŠ” `next()` ë©”ì†Œë“œë¥¼ í†µí•´ {value, done} ê°ì²´ë¥¼ ë¦¬í„´í•˜ë„ë¡ í•˜ëŠ” ê°’ì´ë‹¤.  

## ì´í„°ëŸ¬ë¸” / ì´í„°ë ˆì´í„° í”„ë¡œí† ì½œ: ì´í„°ëŸ¬ë¸”ì„ for...of, ì „ê°œ ì—°ì‚°ì ë“±ê³¼ í•¨ê»˜ ë™ì‘í•˜ë„ë¡ í•œ ê·œì•½


# ì´í„°ë ˆì´í„° ì´í•´í•´ë³´ê¸°

## Array

```js
const arr = [1,2,3];

let iter1 = arr[Symbol.iterator](); // ì´í„°ë ˆì´í„° ê°ì²´
iter1.next();

for (const a of iter1) console.log(a); // 2 3
```

`iter1` ì´í„°ë ˆì´í„° ê°ì²´ì˜ `next` ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ë°°ì—´ì˜ ì²«ë²ˆì§¸ ìš”ì†Œì¸ 1ì„ ë°˜í™˜í•œë‹¤.  

```js
{value: 1, done: false}
```

ìœ„ ë°˜í™˜ê°’ì„ ì–´ë– í•œ ë³€ìˆ˜ì— ì €ì¥í•˜ê±°ë‚˜ ì²˜ë¦¬í•˜ì§€ ì•Šì•˜ë‹¤.  

ì´í„°ë ˆì´í„° ê°ì²´ëŠ” `í˜„ì¬ì˜ ìœ„ì¹˜ë‚˜ ìƒíƒœë§Œì„ ê¸°ì–µ`í•˜ê³ , ì´ì „ì— ë°˜í™˜ëœ {value, done} ê°ì²´ë‚˜ ê·¸ ì´ì „ì˜ ìƒíƒœë¥¼ ê¸°ì–µí•˜ì§€ ì•ŠëŠ”ë‹¤.  

ì¦‰, ì´í„°ë ˆì´í„° ê°ì²´ëŠ” `next` ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•  ë•Œë§ˆë‹¤ ìˆœíšŒì¤‘ì¸ ë¦¬ìŠ¤íŠ¸ì—ì„œ í˜„ì¬ ìœ„ì¹˜ë¥¼ ì—…ë°ì´íŠ¸í•˜ê³ , ê·¸ ìœ„ì¹˜ì˜ í•­ëª©ì„ ë°˜í™˜í•œë‹¤. 


ê·¸ë¦¬ê³  ë‹¤ìŒ í˜¸ì¶œì—ì„œëŠ” ê·¸ ë‹¤ìŒ í•­ëª©ìœ¼ë¡œ ë„˜ì–´ê°„ë‹¤.  

ë”°ë¼ì„œ, for ë¬¸ì— `iter1` ì´í„°ë ˆì´í„° ê°ì²´ë¥¼ ì „ë‹¬í–ˆì„ë•Œ ì´í„°ë ˆì´í„° ê°ì²´ëŠ” ìˆœíšŒì¤‘ì¸ ë¦¬ìŠ¤íŠ¸ì—ì„œì˜ í˜„ì¬ ìœ„ì¹˜ë§Œ ê¸°ì–µí•˜ê³  ìˆê¸° ë•Œë¬¸ì— ì´ë¯¸ í˜¸ì¶œë˜ì—ˆë˜ 1ì´ ê±´ë„ˆë›°ì–´ì§€ê³ , ë‚˜ë¨¸ì§€ ìš”ì†Œì¸ 2ì™€ 3ë§Œ ì¶œë ¥ë˜ëŠ” ê²ƒì´ë‹¤.  



## Set
```js
const set = new Set([1,2,3]);
for (const a of set) console.log(a);

var a = set[Symbol.iterator]();

a.next(); // {value: 1, done: false}
a.next(); // {value: 2, done: false}
a.next(); // {value: 3, done: false}
a.next(); // {value: undefined, done: true}


for (const value of a) console.log(a) // undefined
```

## Map
```js
const map = new Map([['a', 1], ['b', 2], ['c', 3]]);
for (const a of map) console.log(a); // ['a', 1] ['b', 2] ['c', 3]

const iterator = map[Symbol.iterator]();
iterator.next(); // {value: ['a', 1], done: false}

for (const value of iterator) console.log(value) // ['b', 2] ['c', 3]
```

### Map ì˜ ê¸°ëŠ¥

- Map.prototype.keys()

```js
const map = new Map([['a', 1], ['b', 2], ['c', 3]]);

map.keys(); // MapIterator {"a", "b", "c"} `ì´í„°ë ˆì´í„°ë¥¼ ë¦¬í„´í•œë‹¤`

var iterator = map.keys();
iterator.next(); // {value: 'a', done: false}
iterator.next(); // {value: 'b', done: false}

for (const a of map.keys()) console.log(a); // a b c
for (const a of iterator) console.log(a); // c
```


- Map.prototype.values()
```js
const map = new Map([['a', 1], ['b', 2], ['c', 3]]);

map.values(); // MapIterator {1, 2, 3} `ì´í„°ë ˆì´í„°ë¥¼ ë¦¬í„´í•œë‹¤`

var iterator = map.values();
iterator.next(); // {value: 1, done: false}
iterator.next(); // {value: 2, done: false}

for (const a of map.values()) console.log(a); // 1 2 3
for (const a of iterator) console.log(a); // 3
```

- Map.prototype.entries()
```js
const map = new Map([['a', 1], ['b', 2], ['c', 3]]);

map.entries(); // MapIteratorÂ {'a' => 1, 'b' => 2, 'c' => 3} `ì´í„°ë ˆì´í„°ë¥¼ ë¦¬í„´í•œë‹¤`

var iterator = map.entries();
iterator.next(); // {value: ['a', 1], done: false}

for (const a of map.entries()) console.log(a); // ['a', 1] ['b', 2] ['c', 1]
for (const a of iterator) console.log(a); // ['b', 2] ['c', 1]
```

<br/>

`Map.prototype.keys()`, `Map.prototype.values()`, `Map.prototype.entries()` ë©”ì†Œë“œ ëª¨ë‘ ì´í„°ë ˆì´í„°ë¥¼ ë¦¬í„´í•œë‹¤.   

ë”°ë¼ì„œ, ë©”ì†Œë“œê°€ ë¦¬í„´í•œ ì´í„°ë ˆì´í„° ê°ì²´ë¡œ ë˜ ë‹¤ì‹œ ìê¸° ìì‹ ì„ ìˆœíšŒí•  ìˆ˜ ìˆë‹¤.  

```js
const map = new Map([['a', 1], ['b', 2], ['c', 3]]);

map.keys(); // MapIterator {"a", "b", "c"} `ì´í„°ë ˆì´í„°ë¥¼ ë¦¬í„´í•œë‹¤`

const it = map.keys()

const it2 = it[Symbol.iterator()]

it2.next() // {value: 'a', done: false}
```

# ì‚¬ìš©ì ì •ì˜ ì´í„°ëŸ¬ë¸”, ì´í„°ëŸ¬ë¸”/ì´í„°ë ˆì´í„° í”„ë¡œí† ì½œ ì •ì˜

```js
const iterable = {
  [Symbol.iterator](){
    let i = 3;
      return {
        next(){
          return i == 0 ? {done: true} : {value: i--, done: false};
      }
    }
  }
}

let iterator = iterable[Symbol.iterator]();

iterator.next(); // {value: 3, done: false}

iterator.next(); // {value: 2, done: false}

for (const a of iterable) console.log(a); // 3 2 1

```

í•˜ì§€ë§Œ, ì•„ì§ ì´ëŸ¬í•œ ë¬¸ì œê°€ ìˆë‹¤.  

```js
for (const a of iterator) console.log(a); // Uncaught TypeError: iterator is not iterable
```

ì˜ ë§Œë“¤ì–´ì§„ ì´í„°ë ˆì´í„°ëŠ” ìê¸° ìì‹ ì„ ë°˜í™˜í•˜ëŠ” `[Symbol.iterator]()` ë¥¼ ê°€ì§€ê³  ìˆì–´ì•¼ í•œë‹¤.  
ìš°ë¦¬ê°€ ë§Œë“  iterator ëŠ” `ì´í„°ë ˆì´í„° ê°ì²´ì¸ê±´ ë§ì§€ë§Œ, ì´í„°ëŸ¬ë¸”í•˜ì§€ ì•Šì•„ì„œ` ì´í„°ëŸ¬ë¸” ê°ì²´ë¥¼ ê¸°ëŒ€í•˜ëŠ” for ë¬¸ ì•ˆì—ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.  
ì¦‰, iterator ëŠ” ë°˜í™˜ê°’ìœ¼ë¡œ `[Symbol.itertor]()` ë¥¼ ë°˜í™˜í•˜ì§€ ì•ŠëŠ”ë‹¤.  

<br/>

ğŸ¥¸ ì´í„°ëŸ¬ë¸”í•˜ê²Œ ìˆ˜ì •í•´ë³´ê¸°


```js
const iterable = {
  [Symbol.iterator](){
    let i = 3;
      return {
        next(){
          return i == 0 ? {done: true} : {value: i--, done: false};
      },
      [Symbol.iterator]() {return this; }
    }
  }
}

let iterator = iterable[Symbol.iterator]();
for (const a of iterator) console.log(a); // 3 2 1
```
